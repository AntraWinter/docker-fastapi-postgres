<!DOCTYPE html>
<html lang="ru">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta charset="UTF-8">
  <title>Defect Table Form</title>
  <link rel="stylesheet" href="\static\CSS\style.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <div id="viewSwitcher" style="margin-left: 0; margin-bottom: 15px; transition: margin-left 0.3s ease;">
    <h2>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Ç—á—ë—Ç–∞</h2>
    <button id="btnEditor" style="padding:8px 16px; cursor:pointer;">–†–µ–¥–∞–∫—Ç–æ—Ä</button>
    <button id="btnDefectForm" style="padding:8px 16px; cursor:pointer;">–¢–∞–±–ª–∏—Ü–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤</button>
    <button id="savePdfBtn" style="padding:8px 16px; cursor:pointer;" onclick="saveTableData()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ PDF</button>
  </div>

  <button id="sidebarToggle" style="position:absolute; top:10px; left:10px; background:#007a33; border:none; color:white; padding:8px 12px; border-radius:4px; cursor:pointer; z-index:1100;">‚ò∞ –†–∞–∑–¥–µ–ª—ã</button>
  
  <div id="sidebar" style="width:250px; background:#222; border-right:1px solid #444; padding:15px; box-sizing:border-box; display:flex; flex-direction:column; position:fixed; top:0; left:0; height:100vh; overflow-y:auto; transition:transform 0.3s ease; z-index:1000;">
    <h3 style="margin-top:40px; margin-bottom:15px; font-weight:bold; font-size:20px; color:#fff;">–†–∞–∑–¥–µ–ª—ã</h3>
    <ul id="sectionList" style="flex-grow:1; overflow-y:auto; margin-bottom:15px; padding:0; list-style:none; color:#fff;"></ul>
    <button id="addSectionBtn" style="padding:10px; background:#007a33; border:none; color:white; border-radius:6px; cursor:pointer; font-size:16px; transition:background 0.3s;">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª</button>
  </div>
  
  <div id="editorContainer">
    <div class="editor-wrapper">
      <h2>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞</h2>
      <div class="editor-toolbar">
        <label for="fontSizeSelect">–†–∞–∑–º–µ—Ä:</label>
        <select id="fontSizeSelect" onchange="setFontSize(this.value)">
          <option value="">--</option>
          <option value="1">10</option>
          <option value="2">12</option>
          <option value="3">14</option>
          <option value="4">16</option>
          <option value="5">18</option>
          <option value="6">24</option>
          <option value="7">32</option>
          <option value="8">40</option>
        </select>
        <button onclick="format('bold')"><b>–ñ</b></button>
        <button onclick="format('italic')"><i>–ö</i></button>
        <button onclick="format('underline')"><u>–ß</u></button>
        
        <label for="fontFamilySelect">–®—Ä–∏—Ñ—Ç:</label>
        <select id="fontFamilySelect" onchange="setFontFamily(this.value)">
          <option value="">--</option>
          <option value="Arial">Arial</option>
          <option value="Calibri">Calibri</option>
          <option value="Times New Roman">Times New Roman</option>
          <option value="Georgia">Georgia</option>
        </select>
        <button onclick="format('removeFormat')">‚úñ –û—á–∏—Å—Ç–∏—Ç—å</button>
        <button onclick="format('insertUnorderedList')">‚Ä¢ –°–ø–∏—Å–æ–∫</button>
        <button onclick="format('insertOrderedList')">1. –°–ø–∏—Å–æ–∫</button>
        
        <button onclick="insertLink()">üîó –°—Å—ã–ª–∫–∞</button>
        <button onclick="alignText('left')">‚¨ÖÔ∏è</button>
        <button onclick="alignText('center')">‚ÜîÔ∏è</button>
        <button onclick="alignText('right')">‚û°Ô∏è</button>
      </div>
      <button onclick="toggleEditMode()" id="toggleBtn" style="margin-bottom: 15px; padding: 8px 12px; background: #444; color: white; border: none; border-radius: 4px; cursor: pointer;">‚úèÔ∏è –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</button>
      <div id="text-editor" contenteditable="true" class="editor-content">
        –ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –∑–¥–µ—Å—å...
      </div>
    </div>
  </div>
  
  <div id="defectFormContainer" style="display:none;">
    <h2>–§–æ—Ä–º–∞ —Ç–∞–±–ª–∏—Ü—ã –¥–µ—Ñ–µ–∫—Ç–æ–≤</h2>
    <div style="margin-bottom: 20px;"></div>
    <form id="defectForm">
      <table id="defectTable">
        <thead>
          <tr>
            <th>‚Ññ</th>
            <th>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</th>
            <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è –¥–µ—Ñ–µ–∫—Ç–∞ –ø–æ –ì–û–°–¢ 15467</th>
            <th>–ú–µ—Ç–æ–¥ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è</th>
            <th>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è (–≠—Å–∫–∏–∑)</th>
            <th>–°—Å—ã–ª–∫–∞ –Ω–∞ –º–µ—Ç–∫—É –≤ —Ç—É—Ä–µ</th>
            <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
          </tr>
        </thead>
        <tbody id="tableBody">
          <!-- –°—Ç—Ä–æ–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </tbody>
      </table>
      <button type="button" class="add-btn" onclick="addRow()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É</button>
    </form>
  </div>

  <script src="\static\ScriptJS\script.js"></script>
</body>
</html>